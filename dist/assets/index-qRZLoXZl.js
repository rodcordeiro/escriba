import{r as T,j as _,c as te,a as yt,$ as ht,R as D,b as Wt,_ as Ht,u as Zt,d as zt,e as Kt}from"./index-8CTgCBag.js";import{o as Gt,s as rt,a as Jt}from"./index-87PMx5XF.js";const Qt=yt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),gt=T.forwardRef(({className:e,variant:i,size:t,asChild:r=!1,...n},a)=>{const l=r?ht:"button";return _.jsx(l,{className:te(Qt({variant:i,size:t,className:e})),ref:a,...n})});gt.displayName="Button";var le=e=>e.type==="checkbox",ne=e=>e instanceof Date,O=e=>e==null;const mt=e=>typeof e=="object";var j=e=>!O(e)&&!Array.isArray(e)&&mt(e)&&!ne(e),vt=e=>j(e)&&e.target?le(e.target)?e.target.checked:e.target.value:e,Xt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,bt=(e,i)=>e.has(Xt(i)),Yt=e=>{const i=e.constructor&&e.constructor.prototype;return j(i)&&i.hasOwnProperty("isPrototypeOf")},Be=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function B(e){let i;const t=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Be&&(e instanceof Blob||e instanceof FileList))&&(t||j(e)))if(i=t?[]:{},!t&&!Yt(e))i=e;else for(const r in e)e.hasOwnProperty(r)&&(i[r]=B(e[r]));else return e;return i}var ce=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,f=(e,i,t)=>{if(!i||!j(e))return t;const r=ce(i.split(/[,[\].]+?/)).reduce((n,a)=>O(n)?n:n[a],e);return C(r)||r===e?C(e[i])?t:e[i]:r},Z=e=>typeof e=="boolean";const ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},J={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xt=D.createContext(null),Ve=()=>D.useContext(xt),er=e=>{const{children:i,...t}=e;return D.createElement(xt.Provider,{value:t},i)};var _t=(e,i,t,r=!0)=>{const n={defaultValues:i._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const l=a;return i._proxyFormState[l]!==$.all&&(i._proxyFormState[l]=!r||$.all),t&&(t[l]=!0),e[l]}});return n},I=e=>j(e)&&!Object.keys(e).length,pt=(e,i,t,r)=>{t(e);const{name:n,...a}=e;return I(a)||Object.keys(a).length>=Object.keys(i).length||Object.keys(a).find(l=>i[l]===(!r||$.all))},he=e=>Array.isArray(e)?e:[e],Vt=(e,i,t)=>!e||!i||e===i||he(e).some(r=>r&&(t?r===i:r.startsWith(i)||i.startsWith(r)));function $e(e){const i=D.useRef(e);i.current=e,D.useEffect(()=>{const t=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function tr(e){const i=Ve(),{control:t=i.control,disabled:r,name:n,exact:a}=e||{},[l,m]=D.useState(t._formState),h=D.useRef(!0),w=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),A=D.useRef(n);return A.current=n,$e({disabled:r,next:p=>h.current&&Vt(A.current,p.name,a)&&pt(p,w.current,t._updateFormState)&&m({...t._formState,...p}),subject:t._subjects.state}),D.useEffect(()=>(h.current=!0,w.current.isValid&&t._updateValid(!0),()=>{h.current=!1}),[t]),_t(l,t,w.current,!1)}var z=e=>typeof e=="string",wt=(e,i,t,r,n)=>z(e)?(r&&i.watch.add(e),f(t,e,n)):Array.isArray(e)?e.map(a=>(r&&i.watch.add(a),f(t,a))):(r&&(i.watchAll=!0),t);function rr(e){const i=Ve(),{control:t=i.control,name:r,defaultValue:n,disabled:a,exact:l}=e||{},m=D.useRef(r);m.current=r,$e({disabled:a,subject:t._subjects.values,next:A=>{Vt(m.current,A.name,l)&&w(B(wt(m.current,t._names,A.values||t._formValues,!1,n)))}});const[h,w]=D.useState(t._getWatch(r,n));return D.useEffect(()=>t._removeUnmounted()),h}var qe=e=>/^\w*$/.test(e),Ft=e=>ce(e.replace(/["|']|\]/g,"").split(/\.|\[/));function F(e,i,t){let r=-1;const n=qe(i)?[i]:Ft(i),a=n.length,l=a-1;for(;++r<a;){const m=n[r];let h=t;if(r!==l){const w=e[m];h=j(w)||Array.isArray(w)?w:isNaN(+n[r+1])?{}:[]}e[m]=h,e=e[m]}return e}function sr(e){const i=Ve(),{name:t,disabled:r,control:n=i.control,shouldUnregister:a}=e,l=bt(n._names.array,t),m=rr({control:n,name:t,defaultValue:f(n._formValues,t,f(n._defaultValues,t,e.defaultValue)),exact:!0}),h=tr({control:n,name:t}),w=D.useRef(n.register(t,{...e.rules,value:m}));return w.current=n.register(t,e.rules),D.useEffect(()=>{const A=n._options.shouldUnregister||a,p=(v,q)=>{const L=f(n._fields,v);L&&(L._f.mount=q)};if(p(t,!0),A){const v=B(f(n._options.defaultValues,t));F(n._defaultValues,t,v),C(f(n._formValues,t))&&F(n._formValues,t,v)}return()=>{(l?A&&!n._state.action:A)?n.unregister(t):p(t,!1)}},[t,n,l,a]),D.useEffect(()=>{f(n._fields,t)&&n._updateDisabledField({disabled:r,fields:n._fields,name:t,value:f(n._fields,t)._f.value})},[r,t,n]),{field:{name:t,value:m,...Z(r)||Z(h.disabled)?{disabled:h.disabled||r}:{},onChange:D.useCallback(A=>w.current.onChange({target:{value:vt(A),name:t},type:ve.CHANGE}),[t]),onBlur:D.useCallback(()=>w.current.onBlur({target:{value:f(n._formValues,t),name:t},type:ve.BLUR}),[t,n]),ref:A=>{const p=f(n._fields,t);p&&A&&(p._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:v=>A.setCustomValidity(v),reportValidity:()=>A.reportValidity()})}},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(h.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(h.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(h.touchedFields,t)},error:{enumerable:!0,get:()=>f(h.errors,t)}})}}const ir=e=>e.render(sr(e));var At=(e,i,t,r,n)=>i?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:n||!0}}:{},st=e=>({isOnSubmit:!e||e===$.onSubmit,isOnBlur:e===$.onBlur,isOnChange:e===$.onChange,isOnAll:e===$.all,isOnTouch:e===$.onTouched}),it=(e,i,t)=>!t&&(i.watchAll||i.watch.has(e)||[...i.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ge=(e,i,t,r)=>{for(const n of t||Object.keys(e)){const a=f(e,n);if(a){const{_f:l,...m}=a;if(l){if(l.refs&&l.refs[0]&&i(l.refs[0],n)&&!r)break;if(l.ref&&i(l.ref,l.name)&&!r)break}else j(m)&&ge(m,i)}}};var nr=(e,i,t)=>{const r=ce(f(e,t));return F(r,"root",i[t]),F(e,t,r),e},We=e=>e.type==="file",Q=e=>typeof e=="function",be=e=>{if(!Be)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},me=e=>z(e),He=e=>e.type==="radio",xe=e=>e instanceof RegExp;const nt={value:!1,isValid:!1},at={value:!0,isValid:!0};var St=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?at:{value:e[0].value,isValid:!0}:at:nt}return nt};const ot={isValid:!1,value:null};var Dt=e=>Array.isArray(e)?e.reduce((i,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:i,ot):ot;function ut(e,i,t="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||Z(e)&&!e)return{type:t,message:me(e)?e:"",ref:i}}var ie=e=>j(e)&&!xe(e)?e:{value:e,message:""},lt=async(e,i,t,r,n)=>{const{ref:a,refs:l,required:m,maxLength:h,minLength:w,min:A,max:p,pattern:v,validate:q,name:L,valueAsNumber:Fe,mount:fe,disabled:Ae}=e._f,b=f(i,L);if(!fe||Ae)return{};const P=l?l[0]:a,K=V=>{r&&P.reportValidity&&(P.setCustomValidity(Z(V)?"":V||""),P.reportValidity())},N={},ae=He(a),re=le(a),Se=ae||re,W=(Fe||We(a))&&C(a.value)&&C(b)||be(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,X=At.bind(null,L,t,N),G=(V,x,k,U=J.maxLength,M=J.minLength)=>{const H=V?x:k;N[L]={type:V?U:M,message:H,ref:a,...X(V?U:M,H)}};if(n?!Array.isArray(b)||!b.length:m&&(!Se&&(W||O(b))||Z(b)&&!b||re&&!St(l).isValid||ae&&!Dt(l).isValid)){const{value:V,message:x}=me(m)?{value:!!m,message:m}:ie(m);if(V&&(N[L]={type:J.required,message:x,ref:P,...X(J.required,x)},!t))return K(x),N}if(!W&&(!O(A)||!O(p))){let V,x;const k=ie(p),U=ie(A);if(!O(b)&&!isNaN(b)){const M=a.valueAsNumber||b&&+b;O(k.value)||(V=M>k.value),O(U.value)||(x=M<U.value)}else{const M=a.valueAsDate||new Date(b),H=de=>new Date(new Date().toDateString()+" "+de),Y=a.type=="time",oe=a.type=="week";z(k.value)&&b&&(V=Y?H(b)>H(k.value):oe?b>k.value:M>new Date(k.value)),z(U.value)&&b&&(x=Y?H(b)<H(U.value):oe?b<U.value:M<new Date(U.value))}if((V||x)&&(G(!!V,k.message,U.message,J.max,J.min),!t))return K(N[L].message),N}if((h||w)&&!W&&(z(b)||n&&Array.isArray(b))){const V=ie(h),x=ie(w),k=!O(V.value)&&b.length>+V.value,U=!O(x.value)&&b.length<+x.value;if((k||U)&&(G(k,V.message,x.message),!t))return K(N[L].message),N}if(v&&!W&&z(b)){const{value:V,message:x}=ie(v);if(xe(V)&&!b.match(V)&&(N[L]={type:J.pattern,message:x,ref:a,...X(J.pattern,x)},!t))return K(x),N}if(q){if(Q(q)){const V=await q(b,i),x=ut(V,P);if(x&&(N[L]={...x,...X(J.validate,x.message)},!t))return K(x.message),N}else if(j(q)){let V={};for(const x in q){if(!I(V)&&!t)break;const k=ut(await q[x](b,i),P,x);k&&(V={...k,...X(x,k.message)},K(k.message),t&&(N[L]=V))}if(!I(V)&&(N[L]={ref:P,...V},!t))return N}}return K(!0),N};function ar(e,i){const t=i.slice(0,-1).length;let r=0;for(;r<t;)e=C(e)?r++:e[i[r++]];return e}function or(e){for(const i in e)if(e.hasOwnProperty(i)&&!C(e[i]))return!1;return!0}function R(e,i){const t=Array.isArray(i)?i:qe(i)?[i]:Ft(i),r=t.length===1?e:ar(e,t),n=t.length-1,a=t[n];return r&&delete r[a],n!==0&&(j(r)&&I(r)||Array.isArray(r)&&or(r))&&R(e,t.slice(0,-1)),e}function Ne(){let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}}var _e=e=>O(e)||!mt(e);function ee(e,i){if(_e(e)||_e(i))return e===i;if(ne(e)&&ne(i))return e.getTime()===i.getTime();const t=Object.keys(e),r=Object.keys(i);if(t.length!==r.length)return!1;for(const n of t){const a=e[n];if(!r.includes(n))return!1;if(n!=="ref"){const l=i[n];if(ne(a)&&ne(l)||j(a)&&j(l)||Array.isArray(a)&&Array.isArray(l)?!ee(a,l):a!==l)return!1}}return!0}var Ct=e=>e.type==="select-multiple",ur=e=>He(e)||le(e),Re=e=>be(e)&&e.isConnected,kt=e=>{for(const i in e)if(Q(e[i]))return!0;return!1};function pe(e,i={}){const t=Array.isArray(e);if(j(e)||t)for(const r in e)Array.isArray(e[r])||j(e[r])&&!kt(e[r])?(i[r]=Array.isArray(e[r])?[]:{},pe(e[r],i[r])):O(e[r])||(i[r]=!0);return i}function Et(e,i,t){const r=Array.isArray(e);if(j(e)||r)for(const n in e)Array.isArray(e[n])||j(e[n])&&!kt(e[n])?C(i)||_e(t[n])?t[n]=Array.isArray(e[n])?pe(e[n],[]):{...pe(e[n])}:Et(e[n],O(i)?{}:i[n],t[n]):t[n]=!ee(e[n],i[n]);return t}var Le=(e,i)=>Et(e,i,pe(i)),jt=(e,{valueAsNumber:i,valueAsDate:t,setValueAs:r})=>C(e)?e:i?e===""?NaN:e&&+e:t&&z(e)?new Date(e):r?r(e):e;function Oe(e){const i=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):i.disabled))return We(i)?i.files:He(i)?Dt(e.refs).value:Ct(i)?[...i.selectedOptions].map(({value:t})=>t):le(i)?St(e.refs).value:jt(C(i.value)?e.ref.value:i.value,e)}var lr=(e,i,t,r)=>{const n={};for(const a of e){const l=f(i,a);l&&F(n,a,l._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:r}},ue=e=>C(e)?e:xe(e)?e.source:j(e)?xe(e.value)?e.value.source:e.value:e,cr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ct(e,i,t){const r=f(e,t);if(r||qe(t))return{error:r,name:t};const n=t.split(".");for(;n.length;){const a=n.join("."),l=f(i,a),m=f(e,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(m&&m.type)return{name:a,error:m};n.pop()}return{name:t}}var fr=(e,i,t,r,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(i||e):(t?r.isOnBlur:n.isOnBlur)?!e:(t?r.isOnChange:n.isOnChange)?e:!0,dr=(e,i)=>!ce(f(e,i)).length&&R(e,i);const yr={mode:$.onSubmit,reValidateMode:$.onChange,shouldFocusError:!0};function hr(e={},i){let t={...yr,...e},r={submitCount:0,isDirty:!1,isLoading:Q(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},n={},a=j(t.defaultValues)||j(t.values)?B(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:B(a),m={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,A=0;const p={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Ne(),array:Ne(),state:Ne()},q=e.resetOptions&&e.resetOptions.keepDirtyValues,L=st(t.mode),Fe=st(t.reValidateMode),fe=t.criteriaMode===$.all,Ae=s=>o=>{clearTimeout(A),A=setTimeout(s,o)},b=async s=>{if(p.isValid||s){const o=t.resolver?I((await W()).errors):await G(n,!0);o!==r.isValid&&v.state.next({isValid:o})}},P=s=>p.isValidating&&v.state.next({isValidating:s}),K=(s,o=[],u,y,d=!0,c=!0)=>{if(y&&u){if(m.action=!0,c&&Array.isArray(f(n,s))){const g=u(f(n,s),y.argA,y.argB);d&&F(n,s,g)}if(c&&Array.isArray(f(r.errors,s))){const g=u(f(r.errors,s),y.argA,y.argB);d&&F(r.errors,s,g),dr(r.errors,s)}if(p.touchedFields&&c&&Array.isArray(f(r.touchedFields,s))){const g=u(f(r.touchedFields,s),y.argA,y.argB);d&&F(r.touchedFields,s,g)}p.dirtyFields&&(r.dirtyFields=Le(a,l)),v.state.next({name:s,isDirty:x(s,o),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else F(l,s,o)},N=(s,o)=>{F(r.errors,s,o),v.state.next({errors:r.errors})},ae=(s,o,u,y)=>{const d=f(n,s);if(d){const c=f(l,s,C(u)?f(a,s):u);C(c)||y&&y.defaultChecked||o?F(l,s,o?c:Oe(d._f)):M(s,c),m.mount&&b()}},re=(s,o,u,y,d)=>{let c=!1,g=!1;const S={name:s};if(!u||y){p.isDirty&&(g=r.isDirty,r.isDirty=S.isDirty=x(),c=g!==S.isDirty);const E=ee(f(a,s),o);g=f(r.dirtyFields,s),E?R(r.dirtyFields,s):F(r.dirtyFields,s,!0),S.dirtyFields=r.dirtyFields,c=c||p.dirtyFields&&g!==!E}if(u){const E=f(r.touchedFields,s);E||(F(r.touchedFields,s,u),S.touchedFields=r.touchedFields,c=c||p.touchedFields&&E!==u)}return c&&d&&v.state.next(S),c?S:{}},Se=(s,o,u,y)=>{const d=f(r.errors,s),c=p.isValid&&Z(o)&&r.isValid!==o;if(e.delayError&&u?(w=Ae(()=>N(s,u)),w(e.delayError)):(clearTimeout(A),w=null,u?F(r.errors,s,u):R(r.errors,s)),(u?!ee(d,u):d)||!I(y)||c){const g={...y,...c&&Z(o)?{isValid:o}:{},errors:r.errors,name:s};r={...r,...g},v.state.next(g)}P(!1)},W=async s=>t.resolver(l,t.context,lr(s||h.mount,n,t.criteriaMode,t.shouldUseNativeValidation)),X=async s=>{const{errors:o}=await W(s);if(s)for(const u of s){const y=f(o,u);y?F(r.errors,u,y):R(r.errors,u)}else r.errors=o;return o},G=async(s,o,u={valid:!0})=>{for(const y in s){const d=s[y];if(d){const{_f:c,...g}=d;if(c){const S=h.array.has(c.name),E=await lt(d,l,fe,t.shouldUseNativeValidation&&!o,S);if(E[c.name]&&(u.valid=!1,o))break;!o&&(f(E,c.name)?S?nr(r.errors,E,c.name):F(r.errors,c.name,E[c.name]):R(r.errors,c.name))}g&&await G(g,o,u)}}return u.valid},V=()=>{for(const s of h.unMount){const o=f(n,s);o&&(o._f.refs?o._f.refs.every(u=>!Re(u)):!Re(o._f.ref))&&Ce(s)}h.unMount=new Set},x=(s,o)=>(s&&o&&F(l,s,o),!ee(Ze(),a)),k=(s,o,u)=>wt(s,h,{...m.mount?l:C(o)?a:z(s)?{[s]:o}:o},u,o),U=s=>ce(f(m.mount?l:a,s,e.shouldUnregister?f(a,s,[]):[])),M=(s,o,u={})=>{const y=f(n,s);let d=o;if(y){const c=y._f;c&&(!c.disabled&&F(l,s,jt(o,c)),d=be(c.ref)&&O(o)?"":o,Ct(c.ref)?[...c.ref.options].forEach(g=>g.selected=d.includes(g.value)):c.refs?le(c.ref)?c.refs.length>1?c.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(d)?!!d.find(S=>S===g.value):d===g.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(g=>g.checked=g.value===d):We(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||v.values.next({name:s,values:{...l}})))}(u.shouldDirty||u.shouldTouch)&&re(s,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&De(s)},H=(s,o,u)=>{for(const y in o){const d=o[y],c=`${s}.${y}`,g=f(n,c);(h.array.has(s)||!_e(d)||g&&!g._f)&&!ne(d)?H(c,d,u):M(c,d,u)}},Y=(s,o,u={})=>{const y=f(n,s),d=h.array.has(s),c=B(o);F(l,s,c),d?(v.array.next({name:s,values:{...l}}),(p.isDirty||p.dirtyFields)&&u.shouldDirty&&v.state.next({name:s,dirtyFields:Le(a,l),isDirty:x(s,c)})):y&&!y._f&&!O(c)?H(s,c,u):M(s,c,u),it(s,h)&&v.state.next({...r}),v.values.next({name:s,values:{...l}}),!m.mount&&i()},oe=async s=>{const o=s.target;let u=o.name,y=!0;const d=f(n,u),c=()=>o.type?Oe(d._f):vt(s),g=S=>{y=Number.isNaN(S)||S===f(l,u,S)};if(d){let S,E;const ye=c(),se=s.type===ve.BLUR||s.type===ve.FOCUS_OUT,Bt=!cr(d._f)&&!t.resolver&&!f(r.errors,u)&&!d._f.deps||fr(se,f(r.touchedFields,u),r.isSubmitted,Fe,L),Ee=it(u,h,se);F(l,u,ye),se?(d._f.onBlur&&d._f.onBlur(s),w&&w(0)):d._f.onChange&&d._f.onChange(s);const je=re(u,ye,se,!1),$t=!I(je)||Ee;if(!se&&v.values.next({name:u,type:s.type,values:{...l}}),Bt)return p.isValid&&b(),$t&&v.state.next({name:u,...Ee?{}:je});if(!se&&Ee&&v.state.next({...r}),P(!0),t.resolver){const{errors:et}=await W([u]);if(g(ye),y){const qt=ct(r.errors,n,u),tt=ct(et,n,qt.name||u);S=tt.error,u=tt.name,E=I(et)}}else S=(await lt(d,l,fe,t.shouldUseNativeValidation))[u],g(ye),y&&(S?E=!1:p.isValid&&(E=await G(n,!0)));y&&(d._f.deps&&De(d._f.deps),Se(u,E,S,je))}},de=(s,o)=>{if(f(r.errors,o)&&s.focus)return s.focus(),1},De=async(s,o={})=>{let u,y;const d=he(s);if(P(!0),t.resolver){const c=await X(C(s)?s:d);u=I(c),y=s?!d.some(g=>f(c,g)):u}else s?(y=(await Promise.all(d.map(async c=>{const g=f(n,c);return await G(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!y&&!r.isValid)&&b()):y=u=await G(n);return v.state.next({...!z(s)||p.isValid&&u!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:u}:{},errors:r.errors,isValidating:!1}),o.shouldFocus&&!y&&ge(n,de,s?d:h.mount),y},Ze=s=>{const o={...a,...m.mount?l:{}};return C(s)?o:z(s)?f(o,s):s.map(u=>f(o,u))},ze=(s,o)=>({invalid:!!f((o||r).errors,s),isDirty:!!f((o||r).dirtyFields,s),isTouched:!!f((o||r).touchedFields,s),error:f((o||r).errors,s)}),Ut=s=>{s&&he(s).forEach(o=>R(r.errors,o)),v.state.next({errors:s?r.errors:{}})},Ke=(s,o,u)=>{const y=(f(n,s,{_f:{}})._f||{}).ref;F(r.errors,s,{...o,ref:y}),v.state.next({name:s,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},Mt=(s,o)=>Q(s)?v.values.subscribe({next:u=>s(k(void 0,o),u)}):k(s,o,!0),Ce=(s,o={})=>{for(const u of s?he(s):h.mount)h.mount.delete(u),h.array.delete(u),o.keepValue||(R(n,u),R(l,u)),!o.keepError&&R(r.errors,u),!o.keepDirty&&R(r.dirtyFields,u),!o.keepTouched&&R(r.touchedFields,u),!t.shouldUnregister&&!o.keepDefaultValue&&R(a,u);v.values.next({values:{...l}}),v.state.next({...r,...o.keepDirty?{isDirty:x()}:{}}),!o.keepIsValid&&b()},Ge=({disabled:s,name:o,field:u,fields:y,value:d})=>{if(Z(s)){const c=s?void 0:C(d)?Oe(u?u._f:f(y,o)._f):d;F(l,o,c),re(o,c,!1,!1,!0)}},ke=(s,o={})=>{let u=f(n,s);const y=Z(o.disabled);return F(n,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...o}}),h.mount.add(s),u?Ge({field:u,disabled:o.disabled,name:s}):ae(s,!0,o.value),{...y?{disabled:o.disabled}:{},...t.progressive?{required:!!o.required,min:ue(o.min),max:ue(o.max),minLength:ue(o.minLength),maxLength:ue(o.maxLength),pattern:ue(o.pattern)}:{},name:s,onChange:oe,onBlur:oe,ref:d=>{if(d){ke(s,o),u=f(n,s);const c=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=ur(c),S=u._f.refs||[];if(g?S.find(E=>E===c):c===u._f.ref)return;F(n,s,{_f:{...u._f,...g?{refs:[...S.filter(Re),c,...Array.isArray(f(a,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),ae(s,!1,void 0,c)}else u=f(n,s,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||o.shouldUnregister)&&!(bt(h.array,s)&&m.action)&&h.unMount.add(s)}}},Je=()=>t.shouldFocusError&&ge(n,de,h.mount),It=s=>{Z(s)&&(v.state.next({disabled:s}),ge(n,o=>{o.disabled=s},0,!1))},Qe=(s,o)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=B(l);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:c}=await W();r.errors=d,y=c}else await G(n);R(r.errors,"root"),I(r.errors)?(v.state.next({errors:{}}),await s(y,u)):(o&&await o({...r.errors},u),Je(),setTimeout(Je)),v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Pt=(s,o={})=>{f(n,s)&&(C(o.defaultValue)?Y(s,f(a,s)):(Y(s,o.defaultValue),F(a,s,o.defaultValue)),o.keepTouched||R(r.touchedFields,s),o.keepDirty||(R(r.dirtyFields,s),r.isDirty=o.defaultValue?x(s,f(a,s)):x()),o.keepError||(R(r.errors,s),p.isValid&&b()),v.state.next({...r}))},Xe=(s,o={})=>{const u=s?B(s):a,y=B(u),d=s&&!I(s)?y:a;if(o.keepDefaultValues||(a=u),!o.keepValues){if(o.keepDirtyValues||q)for(const c of h.mount)f(r.dirtyFields,c)?F(d,c,f(l,c)):Y(c,f(d,c));else{if(Be&&C(s))for(const c of h.mount){const g=f(n,c);if(g&&g._f){const S=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(be(S)){const E=S.closest("form");if(E){E.reset();break}}}}n={}}l=e.shouldUnregister?o.keepDefaultValues?B(a):{}:B(d),v.array.next({values:{...d}}),v.values.next({values:{...d}})}h={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!m.mount&&i(),m.mount=!p.isValid||!!o.keepIsValid,m.watch=!!e.shouldUnregister,v.state.next({submitCount:o.keepSubmitCount?r.submitCount:0,isDirty:o.keepDirty?r.isDirty:!!(o.keepDefaultValues&&!ee(s,a)),isSubmitted:o.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:o.keepDirtyValues?r.dirtyFields:o.keepDefaultValues&&s?Le(a,s):{},touchedFields:o.keepTouched?r.touchedFields:{},errors:o.keepErrors?r.errors:{},isSubmitSuccessful:o.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ye=(s,o)=>Xe(Q(s)?s(l):s,o);return{control:{register:ke,unregister:Ce,getFieldState:ze,handleSubmit:Qe,setError:Ke,_executeSchema:W,_getWatch:k,_getDirty:x,_updateValid:b,_removeUnmounted:V,_updateFieldArray:K,_updateDisabledField:Ge,_getFieldArray:U,_reset:Xe,_resetDefaultValues:()=>Q(t.defaultValues)&&t.defaultValues().then(s=>{Ye(s,t.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:s=>{r={...r,...s}},_disableForm:It,_subjects:v,_proxyFormState:p,get _fields(){return n},get _formValues(){return l},get _state(){return m},set _state(s){m=s},get _defaultValues(){return a},get _names(){return h},set _names(s){h=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:De,register:ke,handleSubmit:Qe,watch:Mt,setValue:Y,getValues:Ze,reset:Ye,resetField:Pt,clearErrors:Ut,unregister:Ce,setError:Ke,setFocus:(s,o={})=>{const u=f(n,s),y=u&&u._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),o.shouldSelect&&d.select())}},getFieldState:ze}}function gr(e={}){const i=D.useRef(),t=D.useRef(),[r,n]=D.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...hr(e,()=>n(l=>({...l}))),formState:r});const a=i.current.control;return a._options=e,$e({subject:a._subjects.state,next:l=>{pt(l,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),D.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),D.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),D.useEffect(()=>{e.values&&!ee(e.values,t.current)?(a._reset(e.values,a._options.resetOptions),t.current=e.values):a._resetDefaultValues()},[e.values,a]),D.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),i.current.formState=_t(r,a),i.current}const mr=T.forwardRef((e,i)=>T.createElement(Wt.label,Ht({},e,{ref:i,onMouseDown:t=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),Nt=mr,vr=yt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=T.forwardRef(({className:e,...i},t)=>_.jsx(Nt,{ref:t,className:te(vr(),e),...i}));Rt.displayName=Nt.displayName;const br=er,Lt=T.createContext({}),ft=({...e})=>_.jsx(Lt.Provider,{value:{name:e.name},children:_.jsx(ir,{...e})}),we=()=>{const e=T.useContext(Lt),i=T.useContext(Ot),{getFieldState:t,formState:r}=Ve(),n=t(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=i;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},Ot=T.createContext({}),Te=T.forwardRef(({className:e,...i},t)=>{const r=T.useId();return _.jsx(Ot.Provider,{value:{id:r},children:_.jsx("div",{ref:t,className:te("space-y-2",e),...i})})});Te.displayName="FormItem";const Ue=T.forwardRef(({className:e,...i},t)=>{const{error:r,formItemId:n}=we();return _.jsx(Rt,{ref:t,className:te(r&&"text-destructive",e),htmlFor:n,...i})});Ue.displayName="FormLabel";const Me=T.forwardRef(({...e},i)=>{const{error:t,formItemId:r,formDescriptionId:n,formMessageId:a}=we();return _.jsx(ht,{ref:i,id:r,"aria-describedby":t?`${n} ${a}`:`${n}`,"aria-invalid":!!t,...e})});Me.displayName="FormControl";const xr=T.forwardRef(({className:e,...i},t)=>{const{formDescriptionId:r}=we();return _.jsx("p",{ref:t,id:r,className:te("text-sm text-muted-foreground",e),...i})});xr.displayName="FormDescription";const Ie=T.forwardRef(({className:e,children:i,...t},r)=>{const{error:n,formMessageId:a}=we(),l=n?String(n==null?void 0:n.message):i;return l?_.jsx("p",{ref:r,id:a,className:te("text-sm font-medium text-destructive",e),...t,children:l}):null});Ie.displayName="FormMessage";const Pe=T.forwardRef(({className:e,type:i,...t},r)=>_.jsx("input",{type:i,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Pe.displayName="Input";var dt=function(e,i,t){if(e&&"reportValidity"in e){var r=f(t,i);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Tt=function(e,i){var t=function(n){var a=i.fields[n];a&&a.ref&&"reportValidity"in a.ref?dt(a.ref,n,e):a.refs&&a.refs.forEach(function(l){return dt(l,n,e)})};for(var r in i.fields)t(r)},_r=function(e,i){i.shouldUseNativeValidation&&Tt(e,i);var t={};for(var r in e){var n=f(i.fields,r),a=Object.assign(e[r]||{},{ref:n&&n.ref});if(Vr(i.names||Object.keys(e),r)){var l=Object.assign({},pr(f(t,r)));F(l,"root",a),F(t,r,l)}else F(t,r,a)}return t},pr=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Vr=function(e,i){return e.some(function(t){return t.startsWith(i+".")})},wr=function(e,i){for(var t={};e.length;){var r=e[0],n=r.code,a=r.message,l=r.path.join(".");if(!t[l])if("unionErrors"in r){var m=r.unionErrors[0].errors[0];t[l]={message:m.message,type:m.code}}else t[l]={message:a,type:n};if("unionErrors"in r&&r.unionErrors.forEach(function(A){return A.errors.forEach(function(p){return e.push(p)})}),i){var h=t[l].types,w=h&&h[r.code];t[l]=At(l,i,t,n,w?[].concat(w,r.message):r.message)}e.shift()}return t},Fr=function(e,i,t){return t===void 0&&(t={}),function(r,n,a){try{return Promise.resolve(function(l,m){try{var h=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](r,i)).then(function(w){return a.shouldUseNativeValidation&&Tt({},a),{errors:{},values:t.raw?r:w}})}catch(w){return m(w)}return h&&h.then?h.then(void 0,m):h}(0,function(l){if(function(m){return m.errors!=null}(l))return{values:{},errors:_r(wr(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const Ar=Gt({username:rt().min(2).max(50),password:rt()}),Sr=async e=>Jt.post("/api/v1/auth/login",e);function Dr(){const[e,i]=D.useState(!1),t=gr({resolver:Fr(Ar)}),r=Zt(),{setAuth:n}=zt(),{toast:a}=Kt();return{loading:e,onSubmit:async m=>{i(!0),await Sr(m).then(h=>{h.data.authenticated&&(n({...h.data}),r("/")),a({variant:"destructive",title:"Uh oh! Something went wrong.",description:"There was a problem with your request."})}).catch(h=>{a({variant:"destructive",title:"Uh oh! Something went wrong.",description:h.message}),console.error(h)}).finally(()=>i(!1))},form:t}}const Cr=({className:e})=>_.jsxs("svg",{"aria-hidden":"true",role:"status",className:`inline text-white animate-spin me-3 ${e||"w-4 h-4 "}`,viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),_.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})]}),Lr=()=>{const{form:e,loading:i,onSubmit:t}=Dr();return _.jsx("div",{className:"container w-full flex  justify-center h-screen py-20 ",children:_.jsxs("div",{className:"w-full md:w-1/4  flex flex-col align-middle",children:[_.jsx("h1",{className:"text-center text-2xl mb-10",children:"Bem vindo ao Escriba!"}),_.jsx(br,{...e,children:_.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-4",children:[_.jsx(ft,{control:e.control,name:"username",render:({field:r})=>_.jsxs(Te,{children:[_.jsx(Ue,{children:"Username"}),_.jsx(Me,{children:_.jsx(Pe,{placeholder:"Username",...r,className:"bg-transparent focus:border-none"})}),_.jsx(Ie,{})]})}),_.jsx(ft,{control:e.control,name:"password",render:({field:r})=>_.jsxs(Te,{children:[_.jsx(Ue,{children:"Password"}),_.jsx(Me,{children:_.jsx(Pe,{placeholder:"Password",type:"password",...r,className:"bg-transparent"})}),_.jsx(Ie,{})]})}),_.jsxs(gt,{className:"w-full",type:"submit",disabled:i,children:[i&&_.jsx(Cr,{}),"Submit"]})]})})]})})};export{Lr as default};
